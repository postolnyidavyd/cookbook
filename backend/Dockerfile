FROM node:24-alpine

# Створюєм робочу директорію, щоб зберігати код додатку та залежності,
#це робиться щоб полегшити керування файлами в контейнері
WORKDIR /app
# Копіюєм package.json та package-lock.json для встановлення залежностей
COPY package*.json ./

# Встановлюєм залежності
RUN npm install --legacy-peer-deps

# Копіюєм увесь код додатку в робочу директорію контейнера
COPY . .

# Відкриваєм порт 4000 для доступу до додатку ззовні контейнера
# Це важливо для того, щоб додаток міг приймати вхідні запити
EXPOSE 4000

# Визначаєм команду для запуску додатку
# Команда пишеться в форматі масиву для кращої сумісності з різними оболонками
CMD ["npm", "start"]
